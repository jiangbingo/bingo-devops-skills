# Coding Time Analyzer Skill

## 概述

这个 Skill 用于分析 Git 仓库中的编码时间模式，帮助开发者了解自己的编码习惯和高效时段。

## 功能特性

- **时间模式分析**: 按小时和星期统计提交频率
- **高效时段识别**: 找出最活跃的编码时间段
- **工作日 vs 周末**: 分析工作日和周末的编码活动差异
- **热力图可视化**: 生成直观的提交时间分布热力图
- **编码习惯洞察**: 提供个性化的编码习惯分析建议

## 文件结构

```
time-tracker-analyzer/
├── SKILL.md          # Skill 定义文件
├── impl.py           # 实现脚本
├── test_skill.py     # 测试脚本
└── README.md         # 使用文档
```

## 如何使用

### 方式 1: 直接运行脚本

在任何 Git 仓库目录中运行:

```bash
python3 skillsets/time-tracker-analyzer/impl.py
```

### 方式 2: 运行测试脚本

```bash
python3 skillsets/time-tracker-analyzer/test_skill.py
```

### 方式 3: 通过 Skill 触发

在对话中使用以下短语:

- "分析我的编码时间"
- "什么时候最有效率"
- "编码习惯分析"
- "查看我的提交时间分布"
- "我什么时候编码最多"

## 输出文件

执行后会生成 `time_tracker_report.txt` 文件，包含:

### 统计概览
- 总提交数
- 分析时间范围

### 每日提交分布
- 周一到周日的提交次数和百分比
- 工作日 vs 周末对比

### 每小时提交分布
- 24 小时提交分布柱状图
- 最活跃时段 (Top 3)
- 时段分布 (早晨/下午/晚上/深夜)

### 提交热力图
- 星期 x 小时的二维热力图
- 直观展示编码时间集中度

### 编码习惯洞察
- 最活跃的星期和时段
- 工作日/周末倾向分析
- 白天/夜间倾向分析

### 个性化建议
- 根据分析结果提供编码时间优化建议

## 分析维度

### 小时级分析
- 00:00 - 23:00 每小时提交统计
- 识别高峰编码时段
- 分析早晨/下午/晚上/深夜活动

### 星期级分析
- 周一到周日提交统计
- 工作日 (周一至周五) vs 周末 (周六、周日)
- 识别最活跃的工作日

### 综合分析
- 工作日/周末提交比例
- 白天/夜间提交比例
- 平均每天提交次数
- 编码类型判断 (早晨型/下午型/晚间型/夜猫型)

## 技术实现

### Git 命令
```bash
git log --all --date=format:"%Y-%m-%d %H:%M" --pretty=format:"%H|%ad|%an"
```

### 数据处理
- 解析提交时间戳
- 按小时 (0-23) 和星期 (0-6) 分组
- 计算百分比和平均值
- 生成 ASCII 可视化图表

### 可视化
- 柱状图: 显示每小时提交分布
- 热力图: 星期 x 小时的二维矩阵
- 使用 ASCII 字符: `█▓▒░ ` 表示不同强度

## 测试状态

✅ 所有测试通过

测试覆盖:
- Git 仓库检测
- 提交记录提取
- 时间模式分析
- 热力图生成
- 报告文件输出

## 依赖

- Python 3.x
- Git (需要在系统 PATH 中)
- 包含提交历史的 Git 仓库

## 使用场景

### 个人开发者
- 了解自己的编码时间规律
- 找到最高效的编码时段
- 优化工作时间安排

### 团队管理
- 分析团队编码习惯
- 了解团队成员活跃时间
- 优化协作时间安排

### 开源贡献者
- 分析开源贡献时间模式
- 了解个人参与趋势

## 注意事项

1. **Git 仓库要求**: 必须在 Git 仓库中运行
2. **提交数量**: 建议至少 50 次提交以获得准确分析
3. **时区**: 所有时间使用本地时区
4. **隐私**: 仅分析提交时间，不暴露代码内容

## 常见问题

### Q: 提示"不是 Git 仓库"?
A: 请确保在包含 `.git` 目录的仓库中运行脚本

### Q: 提交数量为 0?
A: 仓库可能没有提交历史，建议在有实际开发历史的仓库中使用

### Q: 热力图显示不正常?
A: 可能是终端编码问题，确保使用 UTF-8 编码

### Q: 如何分析远程仓库?
A: 先 clone 到本地，然后在本地仓库中运行分析

## 示例输出

```
====================================================================================================
编码时间分析报告
====================================================================================================

📊 统计概览
  总提交数: 1234
  时间范围: 2023-01-01 10:30 ~ 2025-12-31 18:45

====================================================================================================
📈 每日提交分布 (星期)
====================================================================================================

  周一 │ ████████████████████████████████████████████████ 245 次 (19.8%)
  周二 │ ███████████████████████████████████████ 198 次 (16.0%)
  ...
```

## 下一步

1. 在你的项目中运行分析
2. 查看 `time_tracker_report.txt` 获取详细洞察
3. 根据建议优化编码时间安排
4. 定期重新运行以跟踪习惯变化

## 相关资源

- Git 文档: https://git-scm.com/docs
- Python datetime 文档: https://docs.python.org/3/library/datetime.html
